<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Crown Words Labs</title>

  <link rel="icon" href="assets/favicon.ico" type="image/x-icon">
  <link rel="icon" href="assets/favicon-32x32.png" sizes="32x32" type="image/png">
  <link rel="apple-touch-icon" href="assets/favicon-180x180.png">
  <link rel="manifest" href="manifest.webmanifest">
  <meta name="theme-color" content="#4B0082" />

  <style>
    body{font-family:system-ui, sans-serif;background:linear-gradient(180deg,#0b0f14,#1a0f1f);color:#e6e8ea;margin:0;text-align:center}
    header{background:linear-gradient(90deg,#4B0082,#8A2BE2);padding:20px;color:#FFD700;font-size:1.5em;font-weight:700;text-shadow:0 0 10px #FFD700}
    .logo{margin:20px auto;max-width:200px;animation:glow 3s infinite alternate}
    @keyframes glow{from{filter:drop-shadow(0 0 5px gold)}to{filter:drop-shadow(0 0 20px gold)}}
    .card{border:2px solid #2ecc71;background:#0b0f14;padding:20px;margin:20px auto;max-width:420px;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,.6)}
    .subscribe-btn{background:linear-gradient(90deg,#5ad67d,#2ecc71);font-size:16px;font-weight:600;padding:14px 26px;border-radius:40px;border:0;cursor:pointer;transition:transform .2s,background .2s}
    .subscribe-btn:hover{transform:scale(1.05);background:linear-gradient(90deg,#2ecc71,#5ad67d)}
    footer{background:#0b0f14;padding:30px;font-size:.9em;line-height:1.6;color:#ccc}
    .assistant{max-width:720px;margin:30px auto;padding:16px;border:1px solid #2ecc71;border-radius:12px;background:#0b0f14}
    textarea{width:100%;border-radius:8px;border:1px solid #24303a;background:#0f141a;color:#e6e8ea;padding:10px}
    pre{white-space:pre-wrap;text-align:left;background:#0f141a;border:1px solid #24303a;color:#b9c2cc;margin-top:12px;padding:10px;border-radius:8px}
  </style>
</head>
<body>
  <header>Crown Words Labs · God’s Kingdom Established Beyond Scope</header>

  <img src="assets/logo.png" alt="Crown Words Labs Logo" class="logo">

  <!-- Products -->
  <div class="card">
  <h3>Crown Words</h3>
  <a href="https://buy.stripe.com/eVqcN70fu5chfNb1Yz0M00" target="_blank">
    <button class="subscribe-btn">Subscribe · €5/month</button>
  </a>
</div>
    <h3>Crown Words</h3>
    <a href="https://buy.stripe.com/6oUcN75zO5ch44t46H0oM05" target="_blank">
      <button class="subscribe-btn">Subscribe · €5/month</button>
    </a>
  </div>

  <div class="card">
    <h3>Eternal Investment Tracker</h3>
    <a href="PASTE_FINANCE_LINK_HERE" target="_blank">
      <button class="subscribe-btn">Subscribe · €7/month</button>
    </a>
  </div>

  <div class="card">
    <h3>Worship Companion</h3>
    <a href="PASTE_WORSHIP_LINK_HERE" target="_blank">
      <button class="subscribe-btn">Subscribe · €10/month</button>
    </a>
  </div>

  <!-- On-device writing assistant (auto-correct + assess + simple ML classify) -->
  <div class="assistant">
    <h3 style="color:#5ad67d;margin:0 0 10px">Crown Words · Writing Assistant</h3>
    <textarea id="h3_in" rows="6" placeholder="Write here…"></textarea>
    <div style="margin-top:10px;display:flex;gap:10px;justify-content:center;flex-wrap:wrap">
      <button id="h3_fix" class="subscribe-btn">Auto-correct</button>
      <button id="h3_assess" class="subscribe-btn">Self-assess</button>
      <button id="h3_save" class="subscribe-btn">Save draft</button>
      <button id="h3_ml" class="subscribe-btn">Classify theme (on-device)</button>
    </div>
    <pre id="h3_out">Ready.</pre>
  </div>

  <footer>
    <p><strong>God’s Kingdom · Established Beyond Scope</strong></p>
    <p>All glory and power belong to <strong>Jesus Christ</strong>. We walk in the incorruptible nature of the <strong>Holy Ghost</strong>.</p>
    <p>📧 Contact: <a href="mailto:kwagaladavid1@icloud.com">kwagaladavid1@icloud.com</a></p>
  </footer>

  <!-- Scripts -->
  <script src="assets/h3.js"></script>
  <script>
    // Register service worker (offline + faster loads)
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/sw.js').catch(()=>{});
    }
    // Wire assistant
    const $ = id => document.getElementById(id);
    $("h3_fix").onclick = () => { $("h3_in").value = H3.autocorrect($("h3_in").value); $("h3_out").textContent = "✅ Auto-corrected."; };
    $("h3_assess").onclick = () => {
      const a = H3.assess($("h3_in").value);
      $("h3_out").textContent = `Words: ${a.words}\nSentences: ${a.sentences}\nChars: ${a.chars}\nFlesch: ${a.flesch}/100\n\nSuggestions:\n- ${a.suggestions.join("\n- ") || "Looks good."}`;
    };
    $("h3_save").onclick = () => {
      const ok = H3.save("cw_draft",{text:$("h3_in").value,ts:Date.now()});
      $("h3_out").textContent = ok ? "💾 Draft saved on this device." : "⚠️ Save failed.";
    };
    // Simple on-device “ML” via Web Worker (keyword model)
    let mlw;
    $("h3_ml").onclick = () => {
      mlw = mlw || new Worker('assets/mlWorker.js');
      mlw.onmessage = e => { $("h3_out").textContent = `Theme: ${e.data.label} (score ${e.data.score.toFixed(2)})`; };
      mlw.postMessage({text:$("h3_in").value});
    };
  </script>
</body>
</html>